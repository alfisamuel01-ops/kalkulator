<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasil Kalkulator Kesehatan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .result-card { transition: all 0.3s ease; }
        .result-card:hover { transform: translateY(-2px); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <div class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h1 class="text-4xl font-bold mb-2">üè• Hasil Kalkulator Kesehatan</h1>
                <p class="text-xl opacity-90">Pemeriksaan Gula Darah, Asam Urat & Kolesterol</p>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8">
        <!-- Form Input -->
        <div class="bg-white rounded-xl card-shadow p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                üë§ Data Pasien
            </h2>
            
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                    <input type="text" id="namaLengkap" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan nama lengkap">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Umur</label>
                    <input type="number" id="umur" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan umur">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Nomor WhatsApp</label>
                    <input type="tel" id="nomorWA" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="08xxxxxxxxxx">
                </div>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                ü©∏ Hasil Pemeriksaan
            </h3>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6">
                <!-- Gula Darah Puasa -->
                <div class="bg-blue-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-blue-800 mb-3 flex items-center">
                        üåÖ Gula Darah Puasa
                    </h4>
                    <div class="flex items-center space-x-2 mb-2">
                        <input type="number" id="gulaDarahPuasa" class="flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="0">
                        <span class="text-sm text-blue-600 font-medium">mg/dL</span>
                    </div>
                    <div class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded">
                        Normal: 70-100 mg/dL
                    </div>
                </div>

                <!-- Gula Darah Sewaktu -->
                <div class="bg-green-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-green-800 mb-3 flex items-center">
                        ‚è∞ Gula Darah Sewaktu
                    </h4>
                    <div class="flex items-center space-x-2 mb-2">
                        <input type="number" id="gulaDarahSewaktu" class="flex-1 px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="0">
                        <span class="text-sm text-green-600 font-medium">mg/dL</span>
                    </div>
                    <div class="text-xs text-green-600 bg-green-100 px-2 py-1 rounded">
                        Normal: < 140 mg/dL
                    </div>
                </div>

                <!-- Gula Darah 2 Jam PP -->
                <div class="bg-purple-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-purple-800 mb-3 flex items-center">
                        üçΩÔ∏è Gula Darah 2 Jam PP
                    </h4>
                    <div class="flex items-center space-x-2 mb-2">
                        <input type="number" id="gulaDarah2Jam" class="flex-1 px-3 py-2 border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="0">
                        <span class="text-sm text-purple-600 font-medium">mg/dL</span>
                    </div>
                    <div class="text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded">
                        Normal: < 140 mg/dL
                    </div>
                </div>

                <!-- Asam Urat -->
                <div class="bg-red-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-red-800 mb-3 flex items-center">
                        üíé Asam Urat
                    </h4>
                    <div class="flex items-center space-x-2 mb-2">
                        <input type="number" step="0.1" id="asamUrat" class="flex-1 px-3 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500" placeholder="0.0">
                        <span class="text-sm text-red-600 font-medium">mg/dL</span>
                    </div>
                    <div class="text-xs text-red-600 bg-red-100 px-2 py-1 rounded">
                        Normal: Pria ‚â§ 7.0, Wanita ‚â§ 6.0 mg/dL
                    </div>
                </div>

                <!-- Kolesterol Total -->
                <div class="bg-yellow-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-yellow-800 mb-3 flex items-center">
                        üßà Kolesterol Total
                    </h4>
                    <div class="flex items-center space-x-2 mb-2">
                        <input type="number" id="kolesterolTotal" class="flex-1 px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500" placeholder="0">
                        <span class="text-sm text-yellow-600 font-medium">mg/dL</span>
                    </div>
                    <div class="text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded">
                        Normal: < 200 mg/dL
                    </div>
                </div>


            </div>

            <div class="mt-8 text-center">
                <button onclick="analisisHasil()" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg">
                    üîç Analisis Hasil
                </button>
            </div>
        </div>

        <!-- Hasil Analisis -->
        <div id="hasilAnalisis" class="hidden">
            <div class="bg-white rounded-xl card-shadow p-8 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    üìä Hasil Analisis Kesehatan
                </h2>
                <div id="ringkasanPasien" class="bg-gray-50 p-4 rounded-lg mb-6"></div>
                <div id="hasilPemeriksaan" class="grid gap-4"></div>
            </div>

            <div class="bg-white rounded-xl card-shadow p-8 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    üí° Rekomendasi Kesehatan
                </h3>
                <div id="rekomendasi" class="space-y-4"></div>
            </div>

            <div class="text-center space-y-4">
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="printHasil()" class="bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center">
                        üñ®Ô∏è Print Hasil
                    </button>
                    <button onclick="hubungiAdmin()" class="bg-green-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-green-700 transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center">
                        üí¨ CS Perlu Apa? WhatsApp Admin
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Animated WhatsApp Admin Button -->
    <div class="fixed bottom-6 right-6 z-50 group">
        <button onclick="hubungiAdmin()" class="relative bg-gradient-to-br from-green-400 to-green-600 hover:from-green-500 hover:to-green-700 text-white w-20 h-20 rounded-full shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:scale-110 flex items-center justify-center overflow-hidden animate-pulse">
            
            <!-- Animated Background Circles -->
            <div class="absolute inset-0 rounded-full">
                <div class="absolute inset-2 bg-green-300 rounded-full animate-ping opacity-20"></div>
                <div class="absolute inset-4 bg-green-200 rounded-full animate-pulse opacity-30"></div>
            </div>
            
            <!-- Main Content Container -->
            <div class="relative z-10 flex items-center justify-center">
                <!-- Animated Customer Service Representative -->
                <div class="relative">
                    <!-- Admin Avatar with Animation -->
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-inner transform transition-transform duration-300 group-hover:rotate-12">
                        <!-- Animated Face -->
                        <svg class="w-10 h-10" viewBox="0 0 100 100" fill="none">
                            <!-- Face -->
                            <circle cx="50" cy="40" r="15" fill="#FDBCB4" class="animate-pulse"/>
                            <!-- Hair -->
                            <path d="M35 30 C35 18, 65 18, 65 30 C65 25, 65 35, 62 42 C58 38, 42 38, 38 42 C35 35, 35 25, 35 30 Z" fill="#4A5568"/>
                            <!-- Eyes with blink animation -->
                            <circle cx="44" cy="37" r="2" fill="#2D3748">
                                <animate attributeName="ry" values="2;0.2;2" dur="3s" repeatCount="indefinite"/>
                            </circle>
                            <circle cx="56" cy="37" r="2" fill="#2D3748">
                                <animate attributeName="ry" values="2;0.2;2" dur="3s" repeatCount="indefinite"/>
                            </circle>
                            <!-- Animated Smile -->
                            <path d="M45 43 Q50 47 55 43" stroke="#2D3748" stroke-width="1.5" fill="none" class="animate-pulse"/>
                            <!-- Body -->
                            <ellipse cx="50" cy="65" rx="12" ry="18" fill="#3182CE"/>
                            <!-- Animated Arms -->
                            <ellipse cx="38" cy="58" rx="4" ry="12" fill="#FDBCB4" transform="rotate(-15 38 58)">
                                <animateTransform attributeName="transform" type="rotate" values="-15 38 58;-25 38 58;-15 38 58" dur="2s" repeatCount="indefinite"/>
                            </ellipse>
                            <ellipse cx="62" cy="58" rx="4" ry="12" fill="#FDBCB4" transform="rotate(15 62 58)">
                                <animateTransform attributeName="transform" type="rotate" values="15 62 58;25 62 58;15 62 58" dur="2s" repeatCount="indefinite"/>
                            </ellipse>
                            <!-- Headset -->
                            <path d="M40 35 Q35 30 35 25 Q35 20 40 20" stroke="#2D3748" stroke-width="2" fill="none"/>
                            <circle cx="35" cy="25" r="3" fill="#4A5568"/>
                        </svg>
                    </div>
                    
                    <!-- Floating WhatsApp Logo with Animation -->
                    <div class="absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center shadow-lg transform transition-all duration-300 group-hover:scale-125 animate-bounce">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="white">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.085"/>
                        </svg>
                    </div>
                    
                    <!-- Animated Chat Bubbles -->
                    <div class="absolute -left-8 -top-4">
                        <div class="w-4 h-4 bg-white rounded-full opacity-80 animate-ping"></div>
                    </div>
                    <div class="absolute -left-6 -top-8">
                        <div class="w-3 h-3 bg-white rounded-full opacity-60 animate-ping" style="animation-delay: 0.5s;"></div>
                    </div>
                    <div class="absolute -left-10 -top-6">
                        <div class="w-2 h-2 bg-white rounded-full opacity-40 animate-ping" style="animation-delay: 1s;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Animated Text -->
            <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2">
                <div class="text-xs font-bold text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse">
                    ADMIN
                </div>
            </div>
        </button>
        
        <!-- Enhanced Tooltip with Animation -->
        <div class="absolute bottom-24 right-0 bg-gradient-to-r from-gray-800 to-gray-900 text-white px-4 py-3 rounded-xl text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none transform translate-y-2 group-hover:translate-y-0 shadow-xl">
            <div class="flex items-center space-x-2">
                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                <span class="font-medium">WhatsApp Admin Online</span>
            </div>
            <div class="text-xs text-gray-300 mt-1">Klik untuk chat langsung!</div>
            <div class="absolute top-full right-6 w-0 h-0 border-l-4 border-r-4 border-t-8 border-transparent border-t-gray-800"></div>
        </div>
        
        <!-- Notification Badge -->
        <div class="absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold animate-bounce">
            !
        </div>
    </div>

    <script>
        function getStatusGulaDarah(nilai, jenis) {
            if (jenis === 'puasa') {
                if (nilai < 70) return { status: 'Rendah', kelas: 'text-blue-600 bg-blue-100', icon: '‚¨áÔ∏è' };
                if (nilai <= 100) return { status: 'Normal', kelas: 'text-green-600 bg-green-100', icon: '‚úÖ' };
                if (nilai <= 125) return { status: 'Prediabetes', kelas: 'text-yellow-600 bg-yellow-100', icon: '‚ö†Ô∏è' };
                return { status: 'Diabetes', kelas: 'text-red-600 bg-red-100', icon: 'üö®' };
            } else if (jenis === 'sewaktu') {
                if (nilai < 70) return { status: 'Rendah', kelas: 'text-blue-600 bg-blue-100', icon: '‚¨áÔ∏è' };
                if (nilai < 140) return { status: 'Normal', kelas: 'text-green-600 bg-green-100', icon: '‚úÖ' };
                if (nilai <= 199) return { status: 'Prediabetes', kelas: 'text-yellow-600 bg-yellow-100', icon: '‚ö†Ô∏è' };
                return { status: 'Diabetes', kelas: 'text-red-600 bg-red-100', icon: 'üö®' };
            } else if (jenis === '2jam') {
                if (nilai < 70) return { status: 'Rendah', kelas: 'text-blue-600 bg-blue-100', icon: '‚¨áÔ∏è' };
                if (nilai < 140) return { status: 'Normal', kelas: 'text-green-600 bg-green-100', icon: '‚úÖ' };
                if (nilai <= 199) return { status: 'Prediabetes', kelas: 'text-yellow-600 bg-yellow-100', icon: '‚ö†Ô∏è' };
                return { status: 'Diabetes', kelas: 'text-red-600 bg-red-100', icon: 'üö®' };
            }
        }

        function getStatusAsamUrat(nilai, umur) {
            const batasNormal = umur >= 18 ? (umur <= 60 ? 7.0 : 8.0) : 6.0;
            if (nilai <= batasNormal) return { status: 'Normal', kelas: 'text-green-600 bg-green-100', icon: '‚úÖ' };
            if (nilai <= batasNormal + 2) return { status: 'Tinggi', kelas: 'text-yellow-600 bg-yellow-100', icon: '‚ö†Ô∏è' };
            return { status: 'Sangat Tinggi', kelas: 'text-red-600 bg-red-100', icon: 'üö®' };
        }

        function getStatusKolesterol(total) {
            if (total < 200) return { status: 'Baik', kelas: 'text-green-600 bg-green-100', icon: '‚úÖ' };
            else if (total <= 239) return { status: 'Batas Tinggi', kelas: 'text-yellow-600 bg-yellow-100', icon: '‚ö†Ô∏è' };
            else return { status: 'Tinggi', kelas: 'text-red-600 bg-red-100', icon: 'üö®' };
        }

        function generateRekomendasi(hasil) {
            const rekomendasi = [];
            
            // Rekomendasi Gula Darah
            if (hasil.gulaDarahPuasa?.status === 'Diabetes' || hasil.gulaDarahSewaktu?.status === 'Diabetes' || hasil.gulaDarah2Jam?.status === 'Diabetes') {
                rekomendasi.push({
                    kategori: 'Diabetes',
                    icon: 'ü©∫',
                    saran: [
                        'Segera konsultasi dengan dokter untuk penanganan diabetes',
                        'Kontrol gula darah secara rutin',
                        'Batasi konsumsi karbohidrat dan gula',
                        'Olahraga teratur minimal 30 menit/hari',
                        'Minum obat diabetes sesuai resep dokter'
                    ]
                });
            } else if (hasil.gulaDarahPuasa?.status === 'Prediabetes' || hasil.gulaDarahSewaktu?.status === 'Prediabetes' || hasil.gulaDarah2Jam?.status === 'Prediabetes') {
                rekomendasi.push({
                    kategori: 'Prediabetes',
                    icon: '‚ö†Ô∏è',
                    saran: [
                        'Ubah pola makan dengan mengurangi karbohidrat sederhana',
                        'Tingkatkan aktivitas fisik',
                        'Turunkan berat badan jika berlebih',
                        'Cek gula darah secara berkala',
                        'Konsultasi dengan ahli gizi'
                    ]
                });
            }

            // Rekomendasi Asam Urat
            if (hasil.asamUrat?.status === 'Sangat Tinggi' || hasil.asamUrat?.status === 'Tinggi') {
                rekomendasi.push({
                    kategori: 'Asam Urat Tinggi',
                    icon: 'üíé',
                    saran: [
                        'Hindari makanan tinggi purin (jeroan, seafood, daging merah)',
                        'Perbanyak minum air putih (8-10 gelas/hari)',
                        'Batasi konsumsi alkohol',
                        'Konsumsi buah-buahan rendah purin (ceri, apel)',
                        'Konsultasi dokter untuk obat penurun asam urat'
                    ]
                });
            }

            // Rekomendasi Kolesterol
            if (hasil.kolesterolTotal?.status === 'Tinggi') {
                rekomendasi.push({
                    kategori: 'Kolesterol',
                    icon: 'üßà',
                    saran: [
                        'Kurangi makanan berlemak jenuh dan trans fat',
                        'Konsumsi makanan kaya serat (oat, kacang-kacangan)',
                        'Pilih protein tanpa lemak (ikan, ayam tanpa kulit)',
                        'Olahraga aerobik teratur',
                        'Pertimbangkan suplemen omega-3'
                    ]
                });
            }

            // Rekomendasi Umum
            rekomendasi.push({
                kategori: 'Gaya Hidup Sehat',
                icon: 'üåü',
                saran: [
                    'Tidur cukup 7-8 jam per malam',
                    'Kelola stress dengan baik',
                    'Tidak merokok dan hindari asap rokok',
                    'Konsumsi makanan bergizi seimbang',
                    'Cek kesehatan rutin setiap 6 bulan'
                ]
            });

            return rekomendasi;
        }

        function analisisHasil() {
            const nama = document.getElementById('namaLengkap').value;
            const umur = parseInt(document.getElementById('umur').value);
            const nomorWA = document.getElementById('nomorWA').value;

            if (!nama || !umur || !nomorWA) {
                alert('Mohon lengkapi data pasien terlebih dahulu!');
                return;
            }

            const gulaDarahPuasa = parseFloat(document.getElementById('gulaDarahPuasa').value) || 0;
            const gulaDarahSewaktu = parseFloat(document.getElementById('gulaDarahSewaktu').value) || 0;
            const gulaDarah2Jam = parseFloat(document.getElementById('gulaDarah2Jam').value) || 0;
            const asamUrat = parseFloat(document.getElementById('asamUrat').value) || 0;
            const kolesterolTotal = parseFloat(document.getElementById('kolesterolTotal').value) || 0;
            const hasil = {};
            
            if (gulaDarahPuasa > 0) hasil.gulaDarahPuasa = getStatusGulaDarah(gulaDarahPuasa, 'puasa');
            if (gulaDarahSewaktu > 0) hasil.gulaDarahSewaktu = getStatusGulaDarah(gulaDarahSewaktu, 'sewaktu');
            if (gulaDarah2Jam > 0) hasil.gulaDarah2Jam = getStatusGulaDarah(gulaDarah2Jam, '2jam');
            if (asamUrat > 0) hasil.asamUrat = getStatusAsamUrat(asamUrat, umur);
            if (kolesterolTotal > 0) hasil.kolesterolTotal = getStatusKolesterol(kolesterolTotal);

            // Tampilkan ringkasan pasien
            document.getElementById('ringkasanPasien').innerHTML = `
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-semibold text-lg text-gray-800">üë§ ${nama}</h4>
                        <p class="text-gray-600">Umur: ${umur} tahun | WhatsApp: ${nomorWA}</p>
                    </div>
                    <div class="text-sm text-gray-500">
                        üìÖ ${new Date().toLocaleDateString('id-ID')}
                    </div>
                </div>
            `;

            // Tampilkan hasil pemeriksaan
            let hasilHTML = '';
            const pemeriksaan = [
                { key: 'gulaDarahPuasa', label: 'Gula Darah Puasa', nilai: gulaDarahPuasa, satuan: 'mg/dL' },
                { key: 'gulaDarahSewaktu', label: 'Gula Darah Sewaktu', nilai: gulaDarahSewaktu, satuan: 'mg/dL' },
                { key: 'gulaDarah2Jam', label: 'Gula Darah 2 Jam PP', nilai: gulaDarah2Jam, satuan: 'mg/dL' },
                { key: 'asamUrat', label: 'Asam Urat', nilai: asamUrat, satuan: 'mg/dL' },
                { key: 'kolesterolTotal', label: 'Kolesterol Total', nilai: kolesterolTotal, satuan: 'mg/dL' }
            ];

            pemeriksaan.forEach(item => {
                if (item.nilai > 0 && hasil[item.key]) {
                    const status = hasil[item.key];
                    hasilHTML += `
                        <div class="result-card p-4 border border-gray-200 rounded-lg">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h4 class="font-medium text-gray-800">${item.label}</h4>
                                    <p class="text-2xl font-bold text-gray-900">${item.nilai} <span class="text-sm font-normal text-gray-600">${item.satuan}</span></p>
                                </div>
                                <div class="text-right">
                                    <span class="${status.kelas} px-3 py-1 rounded-full text-sm font-medium">
                                        ${status.icon} ${status.status}
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });

            document.getElementById('hasilPemeriksaan').innerHTML = hasilHTML;

            // Generate dan tampilkan rekomendasi
            const rekomendasi = generateRekomendasi(hasil);
            let rekomendasiHTML = '';
            
            rekomendasi.forEach(rek => {
                rekomendasiHTML += `
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-gray-800 mb-3 flex items-center">
                            ${rek.icon} ${rek.kategori}
                        </h4>
                        <ul class="space-y-2">
                            ${rek.saran.map(saran => `<li class="flex items-start"><span class="text-green-500 mr-2">‚Ä¢</span><span class="text-gray-700">${saran}</span></li>`).join('')}
                        </ul>
                    </div>
                `;
            });

            document.getElementById('rekomendasi').innerHTML = rekomendasiHTML;
            document.getElementById('hasilAnalisis').classList.remove('hidden');
            
            // Scroll ke hasil
            document.getElementById('hasilAnalisis').scrollIntoView({ behavior: 'smooth' });
        }



        function hubungiAdmin() {
            const pesan = `Halo Admin! üëã\n\nSaya ingin bertanya tentang hasil kalkulator kesehatan.\n\nCS Perlu Apa?\n\nTerima kasih! üôè`;
            const encodedPesan = encodeURIComponent(pesan);
            // Ganti nomor ini dengan nomor WhatsApp admin yang sebenarnya
            const nomorAdmin = '6281234567890'; // Contoh nomor admin
            const whatsappURL = `https://wa.me/${nomorAdmin}?text=${encodedPesan}`;
            
            window.open(whatsappURL, '_blank');
        }

        function printHasil() {
            const nama = document.getElementById('namaLengkap').value;
            const umur = document.getElementById('umur').value;
            const nomorWA = document.getElementById('nomorWA').value;

            // Ambil semua hasil pemeriksaan
            const gulaDarahPuasa = document.getElementById('gulaDarahPuasa').value;
            const gulaDarahSewaktu = document.getElementById('gulaDarahSewaktu').value;
            const gulaDarah2Jam = document.getElementById('gulaDarah2Jam').value;
            const asamUrat = document.getElementById('asamUrat').value;
            const kolesterolTotal = document.getElementById('kolesterolTotal').value;

            // Buat konten untuk print
            let printContent = `
                <html>
                <head>
                    <title>Hasil Kalkulator Kesehatan - ${nama}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
                        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
                        .patient-info { background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
                        .results { margin-bottom: 30px; }
                        .result-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
                        .recommendations { background: #f9f9f9; padding: 20px; border-radius: 8px; }
                        .footer { text-align: center; margin-top: 30px; font-size: 12px; color: #666; }
                        @media print { body { margin: 0; } }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h1>üè• HASIL KALKULATOR KESEHATAN</h1>
                        <p>Pemeriksaan Gula Darah, Asam Urat & Kolesterol</p>
                    </div>
                    
                    <div class="patient-info">
                        <h3>üë§ Data Pasien</h3>
                        <p><strong>Nama:</strong> ${nama}</p>
                        <p><strong>Umur:</strong> ${umur} tahun</p>
                        <p><strong>WhatsApp:</strong> ${nomorWA}</p>
                        <p><strong>Tanggal Pemeriksaan:</strong> ${new Date().toLocaleDateString('id-ID')}</p>
                    </div>
                    
                    <div class="results">
                        <h3>üìä Hasil Pemeriksaan</h3>
            `;

            // Tambahkan hasil pemeriksaan yang ada
            if (gulaDarahPuasa > 0) {
                printContent += `<div class="result-item"><span>üåÖ Gula Darah Puasa</span><span>${gulaDarahPuasa} mg/dL</span></div>`;
            }
            if (gulaDarahSewaktu > 0) {
                printContent += `<div class="result-item"><span>‚è∞ Gula Darah Sewaktu</span><span>${gulaDarahSewaktu} mg/dL</span></div>`;
            }
            if (gulaDarah2Jam > 0) {
                printContent += `<div class="result-item"><span>üçΩÔ∏è Gula Darah 2 Jam PP</span><span>${gulaDarah2Jam} mg/dL</span></div>`;
            }
            if (asamUrat > 0) {
                printContent += `<div class="result-item"><span>üíé Asam Urat</span><span>${asamUrat} mg/dL</span></div>`;
            }
            if (kolesterolTotal > 0) {
                printContent += `<div class="result-item"><span>üßà Kolesterol Total</span><span>${kolesterolTotal} mg/dL</span></div>`;
            }

            printContent += `
                    </div>
                    
                    <div class="recommendations">
                        <h3>üí° Rekomendasi Kesehatan</h3>
                        <ul>
                            <li>Konsultasi dengan dokter untuk penanganan lebih lanjut</li>
                            <li>Jaga pola makan sehat dan olahraga teratur</li>
                            <li>Kontrol kesehatan secara berkala</li>
                            <li>Tidur cukup 7-8 jam per malam</li>
                            <li>Kelola stress dengan baik</li>
                            <li>Tidak merokok dan hindari asap rokok</li>
                        </ul>
                    </div>
                    
                    <div class="footer">
                        <p>Hasil ini dicetak melalui Kalkulator Kesehatan</p>
                        <p>Dicetak pada: ${new Date().toLocaleString('id-ID')}</p>
                    </div>
                </body>
                </html>
            `;

            // Buka window baru untuk print
            const printWindow = window.open('', '_blank');
            printWindow.document.write(printContent);
            printWindow.document.close();
            printWindow.focus();
            printWindow.print();
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96d435522594a301',t:'MTc1NDg3ODM0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
